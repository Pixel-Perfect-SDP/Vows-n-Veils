<header class="topbar">
  <section class="logo-area">
    <img class="logo-img" src="assets/logo.jpg" alt="Vows & Veils logo" />
    <h1 class="logo-text">Vows & Veils</h1>
  </section>

  <nav class="nav-links">
    <a routerLink="/homepage">Home</a>
  </nav>
</header>


<section class="venueCouples-section">


    <section class="header">
        <h1>Elegant venues to choose from</h1>
    </section>

     <section class="loading-overlay" *ngIf="loading">
        <section class="loading-container">
        <section class="Loading-1"></section>
        <section class="Loading-2"></section>
    </section>
    </section>
    <section *ngIf="!selectedVenue && venues.length > 0;" class="venue">
        

        <section class="chosen-venue">
            <p *ngIf="!chosenVenueName">No chosen venue yet</p>
            <p *ngIf="chosenVenueName">Chosen Venue: {{ chosenVenueName }}</p>

            <button class="btn-confirm" (click)="confirmVenue()" [style.opacity]="hasExistingOrder ? '0.3' : '1'"
                [disabled]="hasExistingOrder">
                Confirm Venue
            </button>
        </section>

        <!-- recommended venues-->
      <h2>Based on your budget, we recommend...</h2>
        <section  class='venue-list'*ngIf="!loading && recommendedVenues.length > 0">
            <ul>
                <li *ngFor="let venue of recommendedVenues">
                    <h3>{{ venue.venuename }}</h3>
                    <section class="images">
                        <img *ngIf="venue.images?.length" [src]="venue.images?.[0]?.url" width="300" />
                    </section>

                    <p class="venue-address">{{ venue.address }}</p>
                    <p class="venue-capacity">Capacity: {{ venue.capacity }}</p>
                    <button class="btn" (click)="viewVenue(venue.id)">View Venue</button>
                </li>
            </ul>
        </section>

        <!-- all possible venues -->
        <h2>All venues  </h2>
        <section class="venue-list">
            <ul>
                <li *ngFor="let venue of venues">
                    <h3>{{ venue.venuename }}</h3>
                    <section class="images">
                        <img *ngIf="venue.images?.length" [src]="venue.images?.[0]?.url" width="300" />
                    </section>

                    <p class="venue-address">{{ venue.address }}</p>
                    <p class="venue-capacity">Capacity: {{ venue.capacity }}</p>
                    <button class="btn" (click)="viewVenue(venue.id)">View Venue</button>
                </li>
            </ul>
        </section>
    </section>


    <section class="venue-option" *ngIf="selectedVenue">
        <button class="btnbackToList" (click)="backToList()">‚Üê Back to all Venues</button>
        <button class="btnSelectVenue" (click)="selectVenue(selectedVenue!.id)"
            [style.opacity]="hasExistingOrder ? '0.3' : '1'" [disabled]="hasExistingOrder">
            Choose Venue
        </button>

        <h2>{{ selectedVenue.venuename }}</h2>
        <p class="viewAddress">{{ selectedVenue.address }}</p>
        <p class="viewCapacity">Capacity: {{ selectedVenue.capacity }}</p>
        <p class="viewPrice">Price: R{{ selectedVenue.price }}</p>
        <p class="viewDesc">{{ selectedVenue.description }}</p>
        <p class="viewEmail">Email: {{ selectedVenue.email }}</p>
        <p class="viewPhone">Phone: {{ selectedVenue.phonenumber }}</p>
        <h3>Venue images: </h3>
        <section class="venue-images" *ngIf="selectedVenue.images?.length">
            <img *ngFor="let img of selectedVenue.images?.slice(1)" [src]="img.url" width="200" />
        </section>
    </section>

</section>

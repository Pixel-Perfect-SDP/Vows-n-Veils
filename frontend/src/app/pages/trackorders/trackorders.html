<main>
  <section>
    <button class="back-btn" (click)="backhome();">Back Home</button>
    <h1>Orders</h1>
  </section>
  <section class="loading-overlay" *ngIf="loading">
    <div class="loading-content">
      <p>Loading...</p>
    </div>
  </section>
  
  <div *ngFor="let order of orders" class="order-card">
    <div class="order-header">
      <h3>Order ID: {{ order.id }}</h3>
      <div *ngIf="order.status === 'pending'" class="order-actions">
        <button class="accept-btn" (click)="updateStatus(order.id, 'accepted')">Accept</button>
        <button class="reject-btn" (click)="updateStatus(order.id, 'rejected')">Reject</button>
      </div>
    </div>

    <div class="order-details">
      <p>Venue: {{ order.venueID }}</p>
      <p>Event: {{ order.eventID }}</p>
      <p>Date & Time: {{ order.startAt }}</p>
      <p>Note: {{ order.note || 'No note' }}</p>
      <p>Status: 
        <span class="status-badge" [ngStyle]="{
          background: order.status === 'pending' ? '#F3F4F6' :
                      order.status === 'accepted' ? '#DCFCE7' :
                      order.status === 'rejected' ? '#FEE2E2' : '#E5E7EB',
          color: order.status === 'pending' ? '#374151' : '#111827'
        }">
          {{ order.status }}
        </span>
      </p>
    </div>
  </div>
</main>
